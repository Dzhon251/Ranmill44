<p-dialog [(visible)]="visible" (onHide)="onHideDialog()" [modal]="true" [style]="{ width: '50vw' }"
  [breakpoints]="{ '960px': '75vw', '640px': '90vw' }"
  header="{{ novedadInicial ? 'Editar Novedad' : 'Registrar Nueva Novedad' }}">
  <div class="p-fluid grid">
    <div class="col-12 field">
      <label for="novDetalle" class="font-bold text-900">
        Detalle de la Novedad <span class="required">*</span>
      </label>
      <textarea pInputTextarea id="novDetalle" [(ngModel)]="novedadActual.novDetalle" rows="3" cols="30"
        placeholder="Ingrese un breve detalle de la novedad" [ngClass]="{
          'ng-invalid ng-dirty':
            mostrarErroresValidacion && !novedadActual.novDetalle.trim()
        }"></textarea>
      <small class="p-error" *ngIf="mostrarErroresValidacion && !novedadActual.novDetalle.trim()">El detalle es
        obligatorio.</small>
    </div>

    <div class="col-12 field">
      <label for="novObservacion" class="font-bold text-900">
        Observación <span class="required">*</span>
      </label>
      <textarea pInputTextarea id="novObservacion" [(ngModel)]="novedadActual.novObservacion" rows="5" cols="30"
        placeholder="Describa la novedad detalladamente" [ngClass]="{
          'ng-invalid ng-dirty':
            mostrarErroresValidacion && !novedadActual.novObservacion.trim()
        }"></textarea>
      <small class="p-error" *ngIf="mostrarErroresValidacion && !novedadActual.novObservacion.trim()">La observación es
        obligatoria.</small>
    </div>
  </div>

  <ng-template pTemplate="footer">
    <div class="flex justify-content-end gap-2">
      <p-button label="Cancelar" icon="pi pi-times" styleClass="p-button-secondary"
        (click)="cancelarFormulario()"></p-button>
      <p-button label="Guardar Novedad" icon="pi pi-check" (click)="guardarNovedad()" [disabled]="
          !novedadActual.novDetalle.trim() || !novedadActual.novObservacion.trim()
        "></p-button>
    </div>
  </ng-template>
</p-dialog>